<div class="simple-card-edit secondary-block">
    <article class="edit-content">
        <form #cardForm="ngForm" *ngIf="data.rec && fieldsDescription.rec" class="form form-horizontal">
            <div *ngFor="let key of keys(fieldsDescription.rec)">
                <div *ngIf="!(key === 'STATUS' || key === 'IS_FINAL')" class="form-group">
                    <label for="{{key}}" class="primary-text" [ngClass]="{'unimportant-text': !editMode, 'required': fieldsDescription.rec[key]?.required}">
                        {{fieldsDescription.rec[key].title}}
                    </label>
                    <input [readonly]="!editMode" id="{{key}}" name="{{key}}" type="text" class="form-control m-font" [(ngModel)]="data.rec[key]"
                        placeholder="{{fieldsDescription.rec[key].title}}" [readonly]="!editMode"
                        [ngClass]="{'readonly': !editMode }" [required]="fieldsDescription.rec[key]?.required" [pattern]="fieldsDescription.rec[key].pattern"
                        maxlength="{{fieldsDescription.rec[key].length}}" [eosUnic]="fieldsDescription.rec[key].isUnic" [key]="key"
                        [checkingMethod]="checkUnic.bind(this)" [inDict]="fieldsDescription.rec[key].unicInDict" [tooltip]="fieldsDescription.rec[key]?.invalidMessage"
                        placement="right" containerClass="tooltip-error" container="body" (focus)="focus(key)" (blur)="blur()"
                        [isDisabled]="!editMode" [isOpen]="cardForm.controls[key]?.dirty && cardForm.controls[key]?.invalid && focusedField === key"
                        autocomplete="off"
                        triggers="">
                </div>
            </div>

            <div class="form-group">
                <span class="checkbox">
                    <label class="primary-text checkbox" [ngClass]="{'unimportant-text': !editMode }">
                        <input type="checkbox" name="IS_FINAL" [disabled]="!editMode"
                            [(ngModel)]="data.rec['IS_FINAL']">
                        <span></span>
                        Является финальной</label>
                </span>
            </div>

            <div class="form-group">
                <label for="STATUS" class="primary-text required" [ngClass]="{'unimportant-text': !editMode}">
                    СТАТУС ВИЗЫ
                </label>
                <select class="form-control m-font" name="STATUS" id="STATUS" required
                    [disabled]="!editMode" [(ngModel)]="data.rec['STATUS']">
                    <option disabled="disabled" selected="selected" class="hidden">Выберите статус визы</option>
                    <option value="Положительный" name="st1" ngDefaultControl>Положительный</option>
                    <option value="Отрицательный" name="st2" ngDefaultControl>Отрицательный</option>
                    <option value="Промежуточный" name="st3" ngDefaultControl>Промежуточный</option>
                </select>
            </div>

            <div class="form-group unimportant-text s-font">
                <label>* - поля обязательные к заполнению</label>
            </div>
        </form>
    </article>
</div>
