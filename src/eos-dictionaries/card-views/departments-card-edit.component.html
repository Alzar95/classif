<div class="eos-departments-card-edit edit-content">
    <form #cardForm="ngForm">
    <div [hidden]="!data['IS_NODE']">
        <div class="tabs-wrapper">
            <ul class="tabs">
                <li class="tab-item" *ngFor="let tab of fieldGroups; let i = index" role="presentation" [ngClass]="{'active': i === currTab}"
                    (click)="setTab(i)">
                    <span class="tab-title">{{tab}}</span>
                </li>
            </ul>
        </div>
        <div [hidden]="currTab !== 0">
            <div class="wrapper">
            <div class="col-1">
                <div class="current-image" [ngStyle]="{'background-image': defaultImage}">
                    <eos-photo-uploader class="photo-uploader" (endUploading)="newImage($event)"></eos-photo-uploader>
                </div>
                <div class="form-group gender">
                    <label for="gender">{{fieldsDescription['gender']?.title}}</label>
                    <select *ngIf="editMode" name="gender" id="gender" class="form-control gender-select"
                        [ngModel]="data['gender']" (ngModelChange)="change('gender', $event)"
                        [ngClass]="{'readonly': !editMode }">
                        <option *ngFor="let g of gender" [value]="g.id">{{g.title}}</option>
                    </select>
                    <input *ngIf="!data['gender']" readonly name="gender" type="text" class="form-control readonly"
                        [ngClass]="{'gender-placeholder': editMode }" placeholder="{{fieldsDescription['gender']?.title}}" />
                </div>
                <div class="form-group">
                    <label for="RUBRIC_CODE">{{fieldsDescription['RUBRIC_CODE']?.title}}</label>
                    <input [readonly]="!editMode" id="RUBRIC_CODE_PERSON" name="RUBRIC_CODE_PERSON" type="text" class="form-control"
                        [ngModel]="data['RUBRIC_CODE']" (ngModelChange)="change('RUBRIC_CODE', $event)"
                        placeholder="{{fieldsDescription['RUBRIC_CODE']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('RUBRIC_CODE_PERSON')" (blur)="blur()"
                        maxlength="{{fieldsDescription['RUBRIC_CODE']?.length}}"  [pattern]="fieldsDescription['RUBRIC_CODE']?.pattern"
                        tooltip="Максимальная длина {{fieldsDescription['RUBRIC_CODE']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.RUBRIC_CODE_PERSON?.invalid && cardForm.controls.RUBRIC_CODE_PERSON?.dirty && focusedField === 'RUBRIC_CODE_PERSON'" triggers="">

                </div>
                <div class="form-group">
                    <label for="indexPerson">{{fieldsDescription['indexPerson']?.title}}</label>
                    <input [readonly]="!editMode" id="indexPerson" name="indexPerson" type="text" class="form-control"
                        [ngModel]="data['DEPARTMENT_INDEX']" (ngModelChange)="change('DEPARTMENT_INDEX', $event)"
                        placeholder="{{fieldsDescription['indexPerson']?.title}}"
                        [ngClass]="{'readonly': !editMode }" pattern="fieldsDescription['DEPARTMENT_INDEX']?.pattern"
                        (focus)="focus('DEPARTMENT_INDEX')" (blur)="blur()"
                        maxlength="{{fieldsDescription['indexPerson']?.length}}" [pattern]="fieldsDescription['indexPerson']?.pattern"
                        tooltip="Максимальная длина {{fieldsDescription['indexPerson']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.indexPerson?.invalid && cardForm.controls.indexPerson?.dirty && focusedField === 'DEPARTMENT_INDEX'" triggers="">
                </div>
                <div class="form-group sev">
                    <label for="SEV">{{fieldsDescription['SEV']?.title}}</label>
                    <input [readonly]="!editMode" id="SEV" name="SEV" type="text" class="form-control"
                        [ngModel]="data['SEV']" (ngModelChange)="change('SEV', $event)"
                        placeholder="{{fieldsDescription['SEV']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('SEV')" (blur)="blur()"
                        maxlength="{{fieldsDescription['SEV']?.length}}" [pattern]="fieldsDescription['SEV']?.pattern"
                        tooltip="Максимальная длина {{fieldsDescription['SEV']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.SEV?.invalid && cardForm.controls.SEV?.dirty && focusedField === 'SEV'" triggers="">
                </div>
                <div class="form-group">
                    <label for="START_DATE">{{fieldsDescription['START_DATE']?.title}}</label>
                    <eos-datepicker [placeholder]="fieldsDescription['START_DATE']?.title" [value]="data['START_DATE']"
                        (change)="change('START_DATE', $event)" [readonly]="!editMode" [ngClass]="{'readonly': !editMode }"
                        placement="top"></eos-datepicker>
                </div>
                <div class="form-group">
                    <label for="END_DATE">{{fieldsDescription['END_DATE']?.title}}</label>
                    <eos-datepicker [placeholder]="fieldsDescription['END_DATE']?.title" [value]="data['END_DATE']"
                        (change)="change('END_DATE', $event)" [readonly]="!editMode" [ngClass]="{'readonly': !editMode }"
                        placement="top"></eos-datepicker>
                </div>
            </div>
            <div class="col-2">
                <div class="form-group">
                    <label for="lastName">{{fieldsDescription['lastName']?.title}}</label>
                    <input [readonly]="!editMode" id="lastName" name="lastName" type="text" class="form-control"
                        [ngModel]="data['lastName']" (ngModelChange)="change('lastName', $event)"
                        placeholder="{{fieldsDescription['lastName']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('lastName')" (blur)="blur()"
                        maxlength="{{fieldsDescription['lastName']?.length}}" [pattern]="fieldsDescription['lastName']?.pattern"
                        tooltip="Максимальная длина {{fieldsDescription['lastName']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.lastName?.invalid && cardForm.controls.lastName?.dirty && focusedField === 'lastName'" triggers="">
                </div>
                <div class="names row-wrapper">
                    <div class="form-group first-name">
                        <label for="firstName">{{fieldsDescription['firstName']?.title}}</label>
                        <input [readonly]="!editMode" id="firstName" name="firstName" type="text" class="form-control"
                            [ngModel]="data['firstName']" (ngModelChange)="change('firstName', $event)"
                            placeholder="{{fieldsDescription['firstName']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('firstName')" (blur)="blur()"
                            maxlength="{{fieldsDescription['firstName']?.length}}" [pattern]="fieldsDescription['firstName']?.pattern"
                            tooltip="Максимальная длина {{fieldsDescription['firstName']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.firstName?.invalid && cardForm.controls.firstName?.dirty && focusedField === 'firstName'" triggers="">
                    </div>
                    <div class="form-group fathers-name">
                        <label for="fathersName">{{fieldsDescription['fathersName']?.title}}</label>
                        <input [readonly]="!editMode" id="fathersName" name="fathersName" type="text" class="form-control"
                            [ngModel]="data['fathersName']" (ngModelChange)="change('fathersName', $event)"
                            placeholder="{{fieldsDescription['fathersName']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('fathersName')" (blur)="blur()"
                            maxlength="{{fieldsDescription['fathersName']?.length}}" [pattern]="fieldsDescription['fathersName']?.pattern"
                            tooltip="Максимальная длина {{fieldsDescription['fathersName']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.fathersName?.invalid && cardForm.controls.fathersName?.dirty && focusedField === 'fathersName'" triggers="">
                    </div>
                </div>

                <div class="form-group">
                    <label for="SURNAME">{{fieldsDescription['SURNAME']?.title}}</label>
                    <input [readonly]="!editMode" id="SURNAME" name="SURNAME" type="text" class="form-control"
                        [ngModel]="data['SURNAME']" (ngModelChange)="change('SURNAME', $event)"
                        placeholder="{{fieldsDescription['SURNAME']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('SURNAME')" (blur)="blur()"
                        required maxlength="{{fieldsDescription['SURNAME']?.length}}" [pattern]="fieldsDescription['SURNAME']?.pattern"
                        tooltip="Обязательное поле. Максимальная длина {{fieldsDescription['SURNAME']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.SURNAME?.invalid && cardForm.controls.SURNAME?.dirty && focusedField === 'SURNAME'" triggers="">
                </div>
                <div class="form-group">
                    <label for="DUTY">{{fieldsDescription['DUTY']?.title}}</label>
                    <div class="row">
                        <div class="col-md-9 col-lg-9 col-xl-9">
                            <input [readonly]="!editMode" id="DUTY" name="DUTY" type="text" class="form-control"
                                [ngModel]="data['DUTY']" (ngModelChange)="change('DUTY', $event)"
                                placeholder="{{fieldsDescription['DUTY']?.title}}"
                                [ngClass]="{'readonly': !editMode }"
                                (focus)="focus('DUTY')" (blur)="blur()"
                                required maxlength="{{fieldsDescription['DUTY']?.length}}" [pattern]="fieldsDescription['DUTY']?.pattern"
                                tooltip="Обязательное поле. Максимальная длина {{fieldsDescription['DUTY']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                                containerClass="tooltip-error" container="body" [isDisabled]="!editMode" placement="right"
                                [isOpen]="cardForm.controls.DUTY?.invalid && cardForm.controls.DUTY?.dirty && focusedField === 'DUTY'" triggers="">
                        </div>
                        <span class="col-md-3 col-lg-3 col-xl-3">
                            <label class="checkbox"><input type="checkbox" name="POST_H" (ngModelChange)="change('POST_H', $event)" [disabled]="!editMode"
                                    [ngModel]="data['POST_H']">
                                <span class="eos-icon eos-icon-checkbox-square-blue x-small"></span>Начальник
                            </label>
                        </span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="fullPosition">{{fieldsDescription['fullPosition']?.title}}</label>
                    <input [readonly]="!editMode" id="fullPosition" name="fullPosition" type="text" class="form-control"
                        [ngModel]="data['fullPosition']" (ngModelChange)="change('fullPosition', $event)"
                        placeholder="{{fieldsDescription['fullPosition']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('fullPosition')" (blur)="blur()"
                        maxlength="{{fieldsDescription['fullPosition']?.length}}" [pattern]="fieldsDescription['fullPosition']?.pattern"
                        tooltip="Максимальная длина {{fieldsDescription['fullPosition']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.fullPosition?.invalid && cardForm.controls.fullPosition?.dirty && focusedField === 'fullPosition'" triggers="">
                </div>
                <div class="form-group">
                    <label for="NOTE">{{fieldsDescription['NOTE']?.title}}</label>
                    <textarea [readonly]="!editMode" id="NOTE" name="NOTE" type="text" class="form-control note-person"  rows="5"
                        [ngModel]="data['NOTE']" (ngModelChange)="change('NOTE', $event)"
                        placeholder="{{fieldsDescription['NOTE']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('NOTE')" (blur)="blur()"
                        maxlength="{{fieldsDescription['NOTE']?.length}}"
                        tooltip="Максимальная длина {{fieldsDescription['NOTE']?.length}} символов."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.NOTE?.invalid && cardForm.controls.NOTE?.dirty && focusedField === 'NOTE'" triggers=""></textarea>
                </div>
            </div>
            </div>
            <div>
                <span class="block-title">Исполнитель моих обязанностей</span>
                <div class="row alternates" *ngFor="let alternate of data['alternates']; let i = index">
                    <div class="col-md-3 col-lg-3 col-xl-3 form-group">
                        <label for="alternate_START_DATE">Начало действия</label>
                        <eos-datepicker [placeholder]="'Начало действия'" [value]="alternate.START_DATE"
                            [readonly]="!editMode" [ngClass]="{'readonly': !editMode }" placement="top"></eos-datepicker>
                    </div>
                    <div class="col-md-3 col-lg-3 col-xl-3 form-group">
                        <label for="alternate_END_DATE">Окончание действия</label>
                        <eos-datepicker [placeholder]="'Окончание действия'" [value]="alternate.END_DATE"
                            [readonly]="!editMode" [ngClass]="{'readonly': !editMode }" placement="top"></eos-datepicker>
                    </div>
                    <div class="col-md-6 col-lg-6 col-xl-6 form-group">
                        <label for="fullPosition">Исполнитель моих обязанностей</label>
                        <input [readonly]="!editMode" id="fullPosition" name="alternate.name" type="text" class="form-control"
                            [ngModel]="alternate.name"
                            placeholder="Исполнитель моих обязанностей"
                            [ngClass]="{'readonly': !editMode }">
                        <i [hidden]="!editMode" class="fa fa-user-plus special-text user-icon" aria-hidden="true"></i>
                    </div>
                </div>

                <div class="row alternate-button-wrapper">
                    <div class="col-md-6 col-lg-6 col-xl-6">
                        <button class="btn btn-primary alternate-button">ЖУРНАЛ ДЕЛЕГИРОВАНИЯ ПОЛНОМОЧИЙ</button>
                    </div>
                    <div class="col-md-6 col-lg-6 col-xl-6"  [hidden]="!editMode">
                        <button class="btn btn-primary-full alternate-button">ДОБАВИТЬ ИСПОЛНИТЕЛЯ</button>
                    </div>
                </div>
            </div>
            <div>
                <span class="block-title">Исполняю обязанности</span>
                <div class="row alternates">
                    <div class="col-md-3 col-lg-3 col-xl-3 form-group">
                        <label for="alternate_START_DATE">начало действия</label>
                        <eos-datepicker [placeholder]="'начало действия'" [value]="data['alternates'][0].START_DATE"
                            [readonly]="!editMode" [ngClass]="{'readonly': !editMode }" placement="top"></eos-datepicker>
                    </div>
                    <div class="col-md-3 col-lg-3 col-xl-3 form-group">
                        <label for="alternate_END_DATE">окончание действия</label>
                        <eos-datepicker [placeholder]="'окончание действия'" [value]="data['alternates'][0].END_DATE"
                            [readonly]="!editMode" [ngClass]="{'readonly': !editMode }" placement="top"></eos-datepicker>
                    </div>
                    <div class="col-md-6 col-lg-6 col-xl-6 form-group">
                        <label for="fullPosition">Исполняю обязанности</label>
                        <input [readonly]="!editMode" id="fullPosition" name="alternate.name" type="text" class="form-control"
                            [ngModel]="data['alternates'][0].name"
                            placeholder="Исполняет мои обязанности"
                            [ngClass]="{'readonly': !editMode }">
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="currTab === 1">
            <div class="row-wrapper">
                <div class="form-group">
                    <label for="NUM_CAB">{{fieldsDescription['NUM_CAB']?.title}}</label>
                    <input [readonly]="!editMode" id="NUM_CAB" name="NUM_CAB" type="text" class="form-control"
                        [ngModel]="data['NUM_CAB']" (ngModelChange)="change('NUM_CAB', $event)"
                        placeholder="{{fieldsDescription['NUM_CAB']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('NUM_CAB')" (blur)="blur()"
                        maxlength="{{fieldsDescription['NUM_CAB']?.length}}" [pattern]="fieldsDescription['NUM_CAB']?.pattern"
                        tooltip="Максимальная длина {{fieldsDescription['NUM_CAB']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.NUM_CAB?.invalid && cardForm.controls.NUM_CAB?.dirty && focusedField === 'NUM_CAB'" triggers="">
                </div>

                <div class="form-group">
                    <label for="PHONE">{{fieldsDescription['PHONE']?.title}}</label>
                    <input [readonly]="!editMode" id="PHONE" name="PHONE" type="text" class="form-control"
                        [ngModel]="data['PHONE']" (ngModelChange)="change('PHONE', $event)"
                        placeholder="{{fieldsDescription['PHONE']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('PHONE')" (blur)="blur()"
                        maxlength="{{fieldsDescription['PHONE']?.length}}" [pattern]="fieldsDescription['PHONE']?.pattern"
                        tooltip="Максимальная длина {{fieldsDescription['PHONE']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.PHONE?.invalid && cardForm.controls.PHONE?.dirty && focusedField === 'PHONE'" triggers="">
                </div>

                <div class="form-group">
                    <label for="PHONE_LOCAL">{{fieldsDescription['PHONE_LOCAL']?.title}}</label>
                    <input [readonly]="!editMode" id="PHONE_LOCAL" name="PHONE_LOCAL" type="text" class="form-control"
                        [ngModel]="data['PHONE_LOCAL']" (ngModelChange)="change('PHONE_LOCAL', $event)"
                        placeholder="{{fieldsDescription['PHONE_LOCAL']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('PHONE_LOCAL')" (blur)="blur()"
                        maxlength="{{fieldsDescription['PHONE_LOCAL']?.length}}" [pattern]="fieldsDescription['PHONE_LOCAL']?.pattern"
                        tooltip="Максимальная длина {{fieldsDescription['PHONE_LOCAL']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.PHONE_LOCAL?.invalid && cardForm.controls.PHONE_LOCAL?.dirty && focusedField === 'PHONE_LOCAL'" triggers="">
                </div>

                <div class="form-group">
                    <label for="FAX">{{fieldsDescription['FAX']?.title}}</label>
                    <input [readonly]="!editMode" id="FAX" name="FAX" type="text" class="form-control"
                        [ngModel]="data['FAX']" (ngModelChange)="change('FAX', $event)"
                        placeholder="{{fieldsDescription['FAX']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('FAX')" (blur)="blur()"
                        maxlength="{{fieldsDescription['FAX']?.length}}" [pattern]="fieldsDescription['FAX']?.pattern"
                        tooltip="Максимальная длина {{fieldsDescription['FAX']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.FAX?.invalid && cardForm.controls.FAX?.dirty && focusedField === 'FAX'" triggers="">
                </div>
            </div>

            <div class="email-wrapper row-wrapper">
                <div class="form-group"></div>
                <div class="form-group email">
                    <label for="E_MAIL">{{fieldsDescription['E_MAIL']?.title}}</label>
                        <input [readonly]="!editMode" id="E_MAIL" name="E_MAIL" type="text" class="form-control"
                            [ngModel]="data['E_MAIL']" (ngModelChange)="change('E_MAIL', $event)"
                            placeholder="{{fieldsDescription['E_MAIL']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('E_MAIL')" (blur)="blur()"
                            maxlength="{{fieldsDescription['E_MAIL']?.length}}" [pattern]="fieldsDescription['E_MAIL']?.pattern"
                            tooltip="Максимальная длина {{fieldsDescription['E_MAIL']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.E_MAIL?.invalid && cardForm.controls.E_MAIL?.dirty && focusedField === 'E_MAIL'" triggers="">
                </div>
                <div class="form-group skype">
                    <label for="skype">{{fieldsDescription['skype']?.title}}</label>
                        <input [readonly]="!editMode" id="skype" name="skype" type="text" class="form-control"
                            [ngModel]="data['skype']" (ngModelChange)="change('skype', $event)"
                            placeholder="{{fieldsDescription['skype']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('skype')" (blur)="blur()"
                            maxlength="{{fieldsDescription['skype']?.length}}" [pattern]="fieldsDescription['skype']?.pattern"
                            tooltip="Максимальная длина {{fieldsDescription['skype']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.skype?.invalid && cardForm.controls.skype?.dirty && focusedField === 'skype'" triggers="">
                </div>
            </div>
        </div>

        <div *ngIf="currTab === 2">
                <span class="block-title first">Склонение должности</span>
                    <div class="form-group">
                        <label for="shortPositionRP">{{fieldsDescription['shortPositionRP']?.title}}</label>
                        <input [readonly]="!editMode" id="shortPositionRP" name="shortPositionRP" type="text" class="form-control"
                            [ngModel]="data['shortPositionRP']" (ngModelChange)="change('shortPositionRP', $event)"
                            placeholder="{{fieldsDescription['shortPositionRP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('shortPositionRP')" (blur)="blur()"
                            [pattern]="fieldsDescription['shortPositionRP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.shortPositionRP?.invalid && cardForm.controls.shortPositionRP?.dirty && focusedField === 'shortPositionRP'" triggers="">
                    </div>

                    <div class="form-group">
                        <label for="shortPositionDP">{{fieldsDescription['shortPositionDP']?.title}}</label>
                        <input [readonly]="!editMode"  id="shortPositionDP" name="shortPositionDP" type="text" class="form-control"
                            [ngModel]="data['shortPositionDP']" (ngModelChange)="change('shortPositionDP', $event)"
                            placeholder="{{fieldsDescription['shortPositionDP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('shortPositionDP')" (blur)="blur()"
                            [pattern]="fieldsDescription['shortPositionDP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.shortPositionDP?.invalid && cardForm.controls.shortPositionDP?.dirty && focusedField === 'shortPositionDP'" triggers="">
                    </div>

                    <div class="form-group">
                        <label for="shortPositionVP">{{fieldsDescription['shortPositionVP']?.title}}</label>
                        <input [readonly]="!editMode"  id="shortPositionVP" name="shortPositionVP" type="text" class="form-control"
                            [ngModel]="data['shortPositionVP']" (ngModelChange)="change('shortPositionVP', $event)"
                            placeholder="{{fieldsDescription['shortPositionVP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('shortPositionVP')" (blur)="blur()"
                            [pattern]="fieldsDescription['shortPositionVP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.shortPositionVP?.invalid && cardForm.controls.shortPositionVP?.dirty && focusedField === 'shortPositionVP'" triggers="">
                    </div>

                <span class="block-title">Склонение фамилии, имени, отчества</span>
                <div class="form-group">
                    <label for="fioDP">{{fieldsDescription['fioDP']?.title}}</label>
                    <input [readonly]="!editMode"  id="fioDP" name="fioDP" type="text" class="form-control"
                        [ngModel]="data['fioDP']" (ngModelChange)="change('fioDP', $event)"
                        placeholder="{{fieldsDescription['fioDP']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('fioDP')" (blur)="blur()"
                        [pattern]="fieldsDescription['fioDP']?.pattern"
                        tooltip="Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.fioDP?.invalid && cardForm.controls.fioDP?.dirty && focusedField === 'fioDP'" triggers="">
                </div>
                <div class="form-group">
                    <label for="iofDP">{{fieldsDescription['iofDP']?.title}}</label>
                    <input [readonly]="!editMode"  id="iofDP" name="iofDP" type="text" class="form-control"
                        [ngModel]="data['iofDP']" (ngModelChange)="change('iofDP', $event)"
                        placeholder="{{fieldsDescription['iofDP']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('iofDP')" (blur)="blur()"
                        [pattern]="fieldsDescription['iofDP']?.pattern"
                        tooltip="Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.iofDP?.invalid && cardForm.controls.iofDP?.dirty && focusedField === 'iofDP'" triggers="">
                </div>

                <div class="form-group">
                    <label for="lastNameRP">Родительный падеж (кого?)</label>
                    <div class="row-wrapper declination-wrapper">
                        <input [readonly]="!editMode" id="lastNameRP" name="lastNameRP" type="text" class="form-control"
                            [ngModel]="data['lastNameRP']" (ngModelChange)="change('lastNameRP', $event)"
                            placeholder="{{fieldsDescription['lastNameRP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('lastNameRP')" (blur)="blur()"
                            [pattern]="fieldsDescription['lastNameRP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.lastNameRP?.invalid && cardForm.controls.lastNameRP?.dirty && focusedField === 'lastNameRP'" triggers="">
                        <input [readonly]="!editMode" id="firstNameRP" name="firstNameRP" type="text" class="form-control"
                            [ngModel]="data['firstNameRP']" (ngModelChange)="change('firstNameRP', $event)"
                            placeholder="{{fieldsDescription['firstNameRP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('firstNameRP')" (blur)="blur()"
                            [pattern]="fieldsDescription['firstNameRP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.firstNameRP?.invalid && cardForm.controls.firstNameRP?.dirty && focusedField === 'firstNameRP'" triggers="">
                        <input [readonly]="!editMode" id="fathersNameRP" name="fathersNameRP" type="text" class="form-control last"
                            [ngModel]="data['fathersNameRP']" (ngModelChange)="change('fathersNameRP', $event)"
                            placeholder="{{fieldsDescription['fathersNameRP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('fathersNameRP')" (blur)="blur()"
                            [pattern]="fieldsDescription['fathersNameRP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.fathersNameRP?.invalid && cardForm.controls.fathersNameRP?.dirty && focusedField === 'fathersNameRP'" triggers="">
                    </div>
                </div>
                <div class="form-group">
                    <label for="lastNameDP">Дательный падеж (кому?)</label>
                    <div class="row-wrapper declination-wrapper">
                        <input [readonly]="!editMode" id="lastNameDP" name="lastNameDP" type="text" class="form-control"
                            [ngModel]="data['lastNameDP']" (ngModelChange)="change('lastNameDP', $event)"
                            placeholder="{{fieldsDescription['lastNameDP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('lastNameDP')" (blur)="blur()"
                            [pattern]="fieldsDescription['lastNameDP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.lastNameDP?.invalid && cardForm.controls.lastNameDP?.dirty && focusedField === 'lastNameDP'" triggers="">
                        <input [readonly]="!editMode" id="firstNameDP" name="firstNameDP" type="text" class="form-control"
                            [ngModel]="data['firstNameDP']" (ngModelChange)="change('firstNameDP', $event)"
                            placeholder="{{fieldsDescription['firstNameDP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('firstNameDP')" (blur)="blur()"
                            [pattern]="fieldsDescription['firstNameDP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.firstNameDP?.invalid && cardForm.controls.firstNameDP?.dirty && focusedField === 'firstNameDP'" triggers="">
                        <input [readonly]="!editMode" id="fathersNameDP" name="fathersNameDP" type="text" class="form-control last"
                            [ngModel]="data['fathersNameDP']" (ngModelChange)="change('fathersNameDP', $event)"
                            placeholder="{{fieldsDescription['fathersNameDP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('fathersNameDP')" (blur)="blur()"
                            [pattern]="fieldsDescription['fathersNameDP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.fathersNameDP?.invalid && cardForm.controls.fathersNameDP?.dirty && focusedField === 'fathersNameDP'" triggers="">
                    </div>
                </div>
                <div class="form-group">
                    <label for="lastNameVP">Винительный падеж (кого?)</label>
                    <div class="row-wrapper declination-wrapper">
                        <input [readonly]="!editMode" id="lastNameVP" name="lastNameVP" type="text" class="form-control"
                            [ngModel]="data['lastNameVP']" (ngModelChange)="change('lastNameVP', $event)"
                            placeholder="{{fieldsDescription['lastNameVP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('lastNameVP')" (blur)="blur()"
                            [pattern]="fieldsDescription['lastNameVP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.lastNameVP?.invalid && cardForm.controls.lastNameVP?.dirty && focusedField === 'lastNameVP'" triggers="">
                        <input [readonly]="!editMode" id="firstNameVP" name="firstNameVP" type="text" class="form-control"
                            [ngModel]="data['firstNameVP']" (ngModelChange)="change('firstNameVP', $event)"
                            placeholder="{{fieldsDescription['firstNameVP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('firstNameVP')" (blur)="blur()"
                            [pattern]="fieldsDescription['firstNameVP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.firstNameVP?.invalid && cardForm.controls.firstNameVP?.dirty && focusedField === 'firstNameVP'" triggers="">
                        <input [readonly]="!editMode" id="fathersNameVP" name="fathersNameVP" type="text" class="form-control last"
                            [ngModel]="data['fathersNameVP']" (ngModelChange)="change('fathersNameVP', $event)"
                            placeholder="{{fieldsDescription['fathersNameVP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('fathersNameVP')" (blur)="blur()"
                            [pattern]="fieldsDescription['fathersNameVP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.fathersNameVP?.invalid && cardForm.controls.fathersNameVP?.dirty && focusedField === 'fathersNameVP'" triggers="">
                    </div>
                </div>
                <div class="form-group">
                    <label for="lastNameTP">Творительный падеж (кем?)</label>
                    <div class="row-wrapper declination-wrapper">
                        <input [readonly]="!editMode" id="lastNameTP" name="lastNameTP" type="text" class="form-control"
                            [ngModel]="data['lastNameTP']" (ngModelChange)="change('lastNameTP', $event)"
                            placeholder="{{fieldsDescription['lastNameTP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('lastNameTP')" (blur)="blur()"
                            [pattern]="fieldsDescription['lastNameTP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.lastNameTP?.invalid && cardForm.controls.lastNameTP?.dirty && focusedField === 'lastNameTP'" triggers="">
                        <input [readonly]="!editMode" id="firstNameTP" name="firstNameTP" type="text" class="form-control"
                            [ngModel]="data['firstNameTP']" (ngModelChange)="change('firstNameTP', $event)"
                            placeholder="{{fieldsDescription['firstNameTP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('firstNameTP')" (blur)="blur()"
                            [pattern]="fieldsDescription['firstNameTP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.firstNameTP?.invalid && cardForm.controls.firstNameTP?.dirty && focusedField === 'firstNameTP'" triggers="">
                        <input [readonly]="!editMode" id="fathersNameTP" name="fathersNameTP" type="text" class="form-control last"
                            [ngModel]="data['fathersNameTP']" (ngModelChange)="change('fathersNameTP', $event)"
                            placeholder="{{fieldsDescription['fathersNameTP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('fathersNameTP')" (blur)="blur()"
                            [pattern]="fieldsDescription['fathersNameTP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.fathersNameTP?.invalid && cardForm.controls.fathersNameTP?.dirty && focusedField === 'fathersNameTP'" triggers="">
                    </div>
                </div>
                <div class="form-group">
                    <label for="lastNamePP">Предложный падеж (о ком?)</label>
                    <div class="row-wrapper declination-wrapper">
                        <input [readonly]="!editMode" id="lastNamePP" name="lastNamePP" type="text" class="form-control"
                            [ngModel]="data['lastNamePP']" (ngModelChange)="change('lastNamePP', $event)"
                            placeholder="{{fieldsDescription['lastNamePP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('lastNamePP')" (blur)="blur()"
                            [pattern]="fieldsDescription['lastNamePP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.lastNamePP?.invalid && cardForm.controls.lastNamePP?.dirty && focusedField === 'lastNamePP'" triggers="">
                        <input [readonly]="!editMode" id="firstNamePP" name="firstNamePP" type="text" class="form-control"
                            [ngModel]="data['firstNamePP']" (ngModelChange)="change('firstNamePP', $event)"
                            placeholder="{{fieldsDescription['firstNamePP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('firstNamePP')" (blur)="blur()"
                            [pattern]="fieldsDescription['firstNamePP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.firstNamePP?.invalid && cardForm.controls.firstNamePP?.dirty && focusedField === 'firstNamePP'" triggers="">
                        <input [readonly]="!editMode" id="fathersNamePP" name="fathersNamePP" type="text" class="form-control last"
                            [ngModel]="data['fathersNamePP']" (ngModelChange)="change('fathersNamePP', $event)"
                            placeholder="{{fieldsDescription['fathersNamePP']?.title}}"
                            [ngClass]="{'readonly': !editMode }"
                            (focus)="focus('fathersNamePP')" (blur)="blur()"
                            [pattern]="fieldsDescription['fathersNamePP']?.pattern"
                            tooltip="Пробелы в начале и в конце строки запрещены."
                            [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                            [isOpen]="cardForm.controls.fathersNamePP?.invalid && bottom.controls.fathersNamePP?.dirty && focusedField === 'fathersNamePP'" triggers="">
                    </div>
                </div>
                <span class="block-title">Данные для формирования поручений</span>
                <div class="form-group">
                    <label for="shortPosition">{{fieldsDescription['DUTY']?.title}}</label>
                    <input [readonly]="!editMode" id="shortPosition" name="shortPosition" type="text" class="form-control"
                        [ngModel]="data['DUTY']" (ngModelChange)="change('DUTY', $event)"
                        placeholder="{{fieldsDescription['DUTY']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('shortPosition')" (blur)="blur()"
                        required maxlength="{{fieldsDescription['DUTY']?.length}}" [pattern]="fieldsDescription['DUTY']?.pattern"
                        tooltip="Обязательное поле. Максимальная длина {{fieldsDescription['DUTY']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        containerClass="tooltip-error" container="body" [isDisabled]="!editMode" placement="right"
                        [isOpen]="cardForm.controls.shortPosition?.invalid && cardForm.controls.shortPosition?.dirty && focusedField === 'shortPosition'" triggers="">

                </div>
                <div class="form-group">
                    <label for="department">{{fieldsDescription['department']?.title}}</label>
                    <input [readonly]="!editMode"  id="department" name="department" type="text" class="form-control"
                        [ngModel]="data['department']" (ngModelChange)="change('department', $event)"
                        placeholder="{{fieldsDescription['department']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('department')" (blur)="blur()"
                        [pattern]="fieldsDescription['department']?.pattern"
                        tooltip="Пробелы в начале и в конце строки запрещены."
                        containerClass="tooltip-error" container="body" [isDisabled]="!editMode" placement="right"
                        [isOpen]="cardForm.controls.department?.invalid && cardForm.controls.department?.dirty && focusedField === 'department'" triggers="">
                </div>
        </div>
    </div>
    <div *ngIf="!data['IS_NODE']" class="wrapper">
        <div class="col-1">
            <div class="form-group">
                <label for="RUBRIC_CODE">{{fieldsDescription['RUBRIC_CODE']?.title}}</label>
                <input [readonly]="!editMode" id="RUBRIC_CODE_DEP" name="RUBRIC_CODE_DEP" type="text" class="form-control"
                    [ngModel]="data['RUBRIC_CODE']" (ngModelChange)="change('RUBRIC_CODE', $event)"
                    placeholder="{{fieldsDescription['RUBRIC_CODE']?.title}}"
                    [ngClass]="{'readonly': !editMode }"
                    (focus)="focus('RUBRIC_CODE_DEP')" (blur)="blur()"
                    [pattern]="fieldsDescription['RUBRIC_CODE']?.pattern"
                    tooltip="Пробелы в начале и в конце строки запрещены."
                    [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                    [isOpen]="cardForm.controls.RUBRIC_CODE_DEP?.invalid && cardForm.controls.RUBRIC_CODE_DEP?.dirty && focusedField === 'RUBRIC_CODE_DEP'" triggers="">

            </div>
            <div class="form-group">
                <label for="indexDep">{{fieldsDescription['indexDep']?.title}}</label>
                <input [readonly]="!editMode" id="indexDep" name="indexDep" type="text" class="form-control"
                    [ngModel]="data['INDEX']" (ngModelChange)="change('INDEX', $event)"
                    placeholder="{{fieldsDescription['indexDep']?.title}}"
                    [ngClass]="{'readonly': !editMode }"
                    (focus)="focus('INDEX')" (blur)="blur()"
                    maxlength="{{fieldsDescription['indexDep']?.length}}" [pattern]="fieldsDescription['indexDep']?.pattern"
                    tooltip="Максимальная длина {{fieldsDescription['indexDep']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                    [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                    [isOpen]="cardForm.controls.indexDep?.invalid && cardForm.controls.indexDep?.dirty && focusedField === 'indexDep'" triggers="">
            </div>
            <div class="form-group">
                <label for="SEV_DEP">{{fieldsDescription['SEV']?.title}}</label>
                <input [readonly]="!editMode" id="SEV_DEP" name="SEV_DEP" type="text" class="form-control"
                    [ngModel]="data['SEV']" (ngModelChange)="change('SEV', $event)"
                    placeholder="{{fieldsDescription['SEV']?.title}}"
                    [ngClass]="{'readonly': !editMode }"
                    (focus)="focus('SEV_DEP')" (blur)="blur()"
                    maxlength="{{fieldsDescription['SEV']?.length}}" [pattern]="fieldsDescription['SEV']?.pattern"
                    tooltip="Максимальная длина {{fieldsDescription['SEV']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                    [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                    [isOpen]="cardForm.controls.SEV_DEP?.invalid && cardForm.controls.SEV_DEP?.dirty && focusedField === 'SEV_DEP'" triggers="">
            </div>
            <div class="form-group">
                <label for="START_DATE">{{fieldsDescription['START_DATE']?.title}}</label>
                <eos-datepicker [placeholder]="fieldsDescription['START_DATE']?.title" [value]="data['START_DATE']"
                    (change)="change('START_DATE', $event)" [readonly]="!editMode" [ngClass]="{'readonly': !editMode }"
                    placement="top"></eos-datepicker>
            </div>
            <div class="form-group">
                <label for="END_DATE">{{fieldsDescription['END_DATE']?.title}}</label>
                <eos-datepicker [placeholder]="fieldsDescription['END_DATE']?.title" [value]="data['END_DATE']"
                    (change)="change('END_DATE', $event)" [readonly]="!editMode" [ngClass]="{'readonly': !editMode }"
                    placement="top"></eos-datepicker>
            </div>
            <span class="checkbox card-flag">
                <label class="checkbox"><input type="checkbox" name="CARD_FLAG"
                        [ngModel]="data['CARD_FLAG']" (ngModelChange)="change('CARD_FLAG', $event)"
                        [disabled]="!editMode">
                    <span></span>
                    {{fieldsDescription['CARD_FLAG']?.title}}</label>
            </span>
        </div>
        <div class="col-2">
            <div class="form-group">
                <label for="CLASSIF_NAME_DEP">{{fieldsDescription['title']?.title}}</label>
                <input [readonly]="!editMode" id="CLASSIF_NAME_DEP" name="CLASSIF_NAME_DEP" type="text" class="form-control"
                    [ngModel]="data['CLASSIF_NAME']" (ngModelChange)="change('CLASSIF_NAME', $event)"
                    placeholder="{{fieldsDescription['title']?.title}}"
                    [ngClass]="{'readonly': !editMode }"
                    (focus)="focus('CLASSIF_NAME_DEP')" (blur)="blur()"
                    required maxlength="{{fieldsDescription['title']?.length}}" [pattern]="fieldsDescription['title']?.pattern"
                    tooltip="Обязательное поле. Максимальная длина {{fieldsDescription['title']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                    [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                    [isOpen]="cardForm.controls.CLASSIF_NAME_DEP?.invalid && cardForm.controls.CLASSIF_NAME_DEP?.dirty && focusedField === 'CLASSIF_NAME_DEP'" triggers="">
            </div>
            <span class="checkbox">
                <label class="checkbox"><input type="checkbox" name="notInPositionTitle" (ngModelChange)="change('notInPositionTitle', $event)" [disabled]="!editMode"
                        [ngModel]="data['notInPositionTitle']">
                    <span></span>
                    {{fieldsDescription['notInPositionTitle']?.title}}</label>
            </span>
            <div class="form-group full-position">
                    <label for="fullTitle">{{fieldsDescription['fullTitle']?.title}}</label>
                    <input [readonly]="!editMode" id="fullTitle" name="fullTitle" type="text" class="form-control"
                        [ngModel]="data['fullTitle']" (ngModelChange)="change('fullTitle', $event)"
                        placeholder="{{fieldsDescription['fullTitle']?.title}}"
                        [ngClass]="{'readonly': !editMode }"
                        (focus)="focus('fullTitle')" (blur)="blur()"
                        maxlength="{{fieldsDescription['fullTitle']?.length}}" [pattern]="fieldsDescription['fullTitle']?.pattern"
                        tooltip="Максимальная длина {{fieldsDescription['fullTitle']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                        [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body"
                        [isOpen]="cardForm.controls.fullTitle?.invalid && cardForm.controls.fullTitle?.dirty && focusedField === 'fullTitle'" triggers="">
            </div>
            <div class="form-group">
                <label for="titleRP">{{fieldsDescription['titleRP']?.title}}</label>
                <input [readonly]="!editMode" id="titleRP" name="titleRP" type="text" class="form-control"
                    [ngModel]="data['titleRP']" (ngModelChange)="change('titleRP', $event)"
                    placeholder="{{fieldsDescription['titleRP']?.title}}"
                    [ngClass]="{'readonly': !editMode }"
                    (focus)="focus('titleRP')" (blur)="blur()"
                    maxlength="{{fieldsDescription['titleRP']?.length}}" [pattern]="fieldsDescription['titleRP']?.pattern"
                    tooltip="Максимальная длина {{fieldsDescription['titleRP']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                    [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body" 
                    [isOpen]="cardForm.controls.titleRP?.invalid && cardForm.controls.titleRP?.dirty && focusedField === 'titleRP'" triggers="">
            </div>
            <div class="form-group">
                <label for="DUE_LINK_ORGANIZ">{{fieldsDescription['DUE_LINK_ORGANIZ']?.title}}</label>
                <input [readonly]="!editMode" id="DUE_LINK_ORGANIZ" name="DUE_LINK_ORGANIZ" type="text" class="form-control"
                    [ngModel]="data['DUE_LINK_ORGANIZ']" (ngModelChange)="change('DUE_LINK_ORGANIZ', $event)"
                    placeholder="{{fieldsDescription['DUE_LINK_ORGANIZ']?.title}}"
                    [ngClass]="{'readonly': !editMode }"
                    (focus)="focus('DUE_LINK_ORGANIZ')" (blur)="blur()"
                    maxlength="{{fieldsDescription['DUE_LINK_ORGANIZ']?.length}}" [pattern]="fieldsDescription['DUE_LINK_ORGANIZ']?.pattern"
                    tooltip="Максимальная длина {{fieldsDescription['DUE_LINK_ORGANIZ']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                    [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body" 
                    [isOpen]="cardForm.controls.DUE_LINK_ORGANIZ?.invalid && cardForm.controls.DUE_LINK_ORGANIZ?.dirty && focusedField === 'DUE_LINK_ORGANIZ'" triggers="">
            </div>
            <div class="form-group">
                <label for="CARD_NAME">{{fieldsDescription['CARD_NAME']?.title}}</label>
                <input [readonly]="!editMode" id="CARD_NAME" name="CARD_NAME" type="text" class="form-control"
                    [ngModel]="data['CARD_NAME']" (ngModelChange)="change('CARD_NAME', $event)"
                    placeholder="{{fieldsDescription['CARD_NAME']?.title}}"
                    [ngClass]="{'readonly': !editMode }"
                    (focus)="focus('CARD_NAME')" (blur)="blur()"
                    maxlength="{{fieldsDescription['CARD_NAME']?.length}}" [pattern]="fieldsDescription['CARD_NAME']?.pattern"
                    tooltip="Максимальная длина {{fieldsDescription['CARD_NAME']?.length}} символов. Пробелы в начале и в конце строки запрещены."
                    [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body" 
                    [isOpen]="cardForm.controls.CARD_NAME?.invalid && cardForm.controls.CARD_NAME?.dirty && focusedField === 'CARD_NAME'" triggers="">
            </div>
            <div class="form-group">
                <label for="NOTE_DEP">{{fieldsDescription['NOTE']?.title}}</label>
                <textarea [readonly]="!editMode" id="NOTE_DEP" name="NOTE_DEP" type="text" class="form-control note-dep"  rows="5"
                    [ngModel]="data['NOTE']" (ngModelChange)="change('NOTE', $event)"
                    placeholder="{{fieldsDescription['NOTE']?.title}}"
                    [ngClass]="{'readonly': !editMode }"
                    (focus)="focus('NOTE_DEP')" (blur)="blur()"
                    maxlength="{{fieldsDescription['NOTE']?.length}}"
                    tooltip="Максимальная длина {{fieldsDescription['NOTE']?.length}} символов."
                    [isDisabled]="!editMode" placement="right" containerClass="tooltip-error" container="body" 
                    [isOpen]="cardForm.controls.NOTE_DEP?.invalid && cardForm.controls.NOTE_DEP?.dirty && focusedField === 'NOTE_DEP'" triggers=""></textarea>
            </div>
        </div>
    </div>
    </form>
</div>
