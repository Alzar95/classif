<div class="pin"
    dropdown
    container="body"
    placement="bottom right">
    <button class="btn pushpin"
        dropdownToggle
        container="body"
        tooltip="Прикрепить"
        placement="bottom"
        containerClass="tooltip-info"
        [style.right]="infoOpened ? openStyle : closeStyle"
        [disabled]="disable">
        <span class="eos-icon eos-icon-pin-blue small"></span>
    </button>
    <ul *dropdownMenu
        class="dropdown-menu dropdown-menu-right"
        role="menu">
        <li class="menuitem"
            *ngFor="let desk of deskList"
            (click)="pin(desk)">
            <a class="dropdown-item have-padding f-14">{{desk.name}}</a>
        </li>
        <li *ngIf="deskList.length === 0 || deskList.length < 5"
            class="menuitem desk create">
            <a *ngIf="!creating"
                class="create dropdown-item f-14 have-padding"
                (click)="openCreateForm($event)">Создать рабочий стол</a>
            <ng-container *ngIf="creating">
                <div class="input-group">
                    <input type="text"
                        (click)="stop($event)"
                        class="form-control light"
                        id="createForm"
                        name="createForm"
                        #createForm
                        placeholder="Название нового рабочего стола"
                        [(ngModel)]="deskName"
                        maxlength="{{maxLength}}"
                        required
                        [pattern]="notEmptyString.source">
                    <div class="input-group-btn">
                        <button class="btn btn-default"
                            (click)="create($event)"
                            type="button"
                            tooltip="Сохранить"
                            placement="bottom"
                            containerClass="tooltip-info"
                            [disabled]="!deskName?.length || !createForm.checkValidity()">
                            <span class="eos-icon eos-icon-checkbox-black x-small"></span>
                        </button>
                        <button class="btn btn-default"
                            (click)="cancelCreating($event)"
                            type="button"
                            tooltip="Отменить"
                            placement="bottom"
                            containerClass="tooltip-info">
                            <span class="eos-icon eos-icon-close-black x-small"></span>
                        </button>
                    </div>
                </div>
            </ng-container>
        </li>
    </ul>
</div>
